<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Basic Test - Ladybird</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f9fa;
        }
        
        .test-result {
            margin: 10px 0;
            padding: 12px;
            border-radius: 6px;
            font-weight: 500;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .test-pass {
            background: #d4edda;
            color: #155724;
            border-left: 4px solid #28a745;
        }
        
        .test-fail {
            background: #f8d7da;
            color: #721c24;
            border-left: 4px solid #dc3545;
        }
        
        .test-pending {
            background: #fff3cd;
            color: #856404;
            border-left: 4px solid #ffc107;
        }
        
        h1 { 
            color: #1a73e8; 
            text-align: center; 
            margin-bottom: 10px;
        }
        
        .summary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            margin: 30px 0;
        }
        
        .summary h2 {
            color: white;
            margin: 0 0 15px 0;
        }
        
        .summary-stats {
            font-size: 1.5em;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <h1>üêç Python Basic Functionality Test</h1>
    <p style="text-align: center; color: #666;">Self-verifying tests - results appear below automatically</p>

    <!-- Pre-created result elements for Python to fill in -->
    <div id="test1" class="test-result test-pending">Test 1.1: 2 + 2 = 4 - Waiting...</div>
    <div id="test2" class="test-result test-pending">Test 1.2: 10 * 5 = 50 - Waiting...</div>
    <div id="test3" class="test-result test-pending">Test 1.3: 100 / 4 = 25 - Waiting...</div>
    <div id="test4" class="test-result test-pending">Test 2.1: List operations - Waiting...</div>
    <div id="test5" class="test-result test-pending">Test 2.2: List comprehension - Waiting...</div>
    <div id="test6" class="test-result test-pending">Test 3.1: For loop - Waiting...</div>
    <div id="test7" class="test-result test-pending">Test 4.1: Functions - Waiting...</div>
    <div id="test8" class="test-result test-pending">Test 5.1: String operations - Waiting...</div>

    <div class="summary" id="summary">
        <h2>Test Summary</h2>
        <div class="summary-stats" id="summary-stats">Running tests...</div>
    </div>

    <!-- Python Scripts - Set text directly on elements -->
    <script type="text/python">
# Test 1: Basic Arithmetic - 2+2=4
try:
    result = 2 + 2
    test_elem = document.find("#test1")
    if test_elem:
        if result == 4:
            test_elem.set_attribute("class", "test-result test-pass")
            test_elem.text = "‚úì Test 1.1: 2 + 2 = 4 - PASSED! Result: " + str(result)
        else:
            test_elem.set_attribute("class", "test-result test-fail")
            test_elem.text = "‚úó Test 1.1: 2 + 2 = 4 - FAILED! Expected 4, got " + str(result)
except Exception as e:
    test_elem = document.find("#test1")
    if test_elem:
        test_elem.set_attribute("class", "test-result test-fail")
        test_elem.text = "‚úó Test 1.1: ERROR - " + str(e)
    </script>

    <script type="text/python">
# Test 2: More arithmetic
try:
    result2 = 10 * 5
    test_elem = document.find("#test2")
    if test_elem:
        if result2 == 50:
            test_elem.set_attribute("class", "test-result test-pass")
            test_elem.text = "‚úì Test 1.2: 10 * 5 = 50 - PASSED! Result: " + str(result2)
        else:
            test_elem.set_attribute("class", "test-result test-fail")
            test_elem.text = "‚úó Test 1.2: 10 * 5 = 50 - FAILED! Expected 50, got " + str(result2)
except Exception as e:
    test_elem = document.find("#test2")
    if test_elem:
        test_elem.set_attribute("class", "test-result test-fail")
        test_elem.text = "‚úó Test 1.2: ERROR - " + str(e)
    </script>

    <script type="text/python">
# Test 3: Division
try:
    result3 = 100 / 4
    test_elem = document.find("#test3")
    if test_elem:
        if result3 == 25.0:
            test_elem.set_attribute("class", "test-result test-pass")
            test_elem.text = "‚úì Test 1.3: 100 / 4 = 25 - PASSED! Result: " + str(result3)
        else:
            test_elem.set_attribute("class", "test-result test-fail")
            test_elem.text = "‚úó Test 1.3: 100 / 4 = 25 - FAILED! Expected 25.0, got " + str(result3)
except Exception as e:
    test_elem = document.find("#test3")
    if test_elem:
        test_elem.set_attribute("class", "test-result test-fail")
        test_elem.text = "‚úó Test 1.3: ERROR - " + str(e)
    </script>

    <script type="text/python">
# Test 4: Lists
try:
    numbers = [1, 2, 3, 4, 5]
    test_elem = document.find("#test4")
    if test_elem:
        if len(numbers) == 5:
            test_elem.set_attribute("class", "test-result test-pass")
            test_elem.text = "‚úì Test 2.1: List operations - PASSED! List has " + str(len(numbers)) + " items"
        else:
            test_elem.set_attribute("class", "test-result test-fail")
            test_elem.text = "‚úó Test 2.1: List operations - FAILED! Expected 5, got " + str(len(numbers))
except Exception as e:
    test_elem = document.find("#test4")
    if test_elem:
        test_elem.set_attribute("class", "test-result test-fail")
        test_elem.text = "‚úó Test 2.1: ERROR - " + str(e)
    </script>

    <script type="text/python">
# Test 5: List comprehension
try:
    squares = [x**2 for x in [1, 2, 3, 4, 5]]
    expected = [1, 4, 9, 16, 25]
    test_elem = document.find("#test5")
    if test_elem:
        if squares == expected:
            test_elem.set_attribute("class", "test-result test-pass")
            test_elem.text = "‚úì Test 2.2: List comprehension - PASSED!"
        else:
            test_elem.set_attribute("class", "test-result test-fail")
            test_elem.text = "‚úó Test 2.2: List comprehension - FAILED! Expected " + str(expected) + ", got " + str(squares)
except Exception as e:
    test_elem = document.find("#test5")
    if test_elem:
        test_elem.set_attribute("class", "test-result test-fail")
        test_elem.text = "‚úó Test 2.2: ERROR - " + str(e)
    </script>

    <script type="text/python">
# Test 6: Control Flow - Loop
try:
    total = 0
    for i in range(10):
        if i % 2 == 0:
            total += i
    # Sum of even numbers 0-9: 0+2+4+6+8 = 20
    test_elem = document.find("#test6")
    if test_elem:
        if total == 20:
            test_elem.set_attribute("class", "test-result test-pass")
            test_elem.text = "‚úì Test 3.1: For loop with conditionals - PASSED! Sum = " + str(total)
        else:
            test_elem.set_attribute("class", "test-result test-fail")
            test_elem.text = "‚úó Test 3.1: For loop - FAILED! Expected 20, got " + str(total)
except Exception as e:
    test_elem = document.find("#test6")
    if test_elem:
        test_elem.set_attribute("class", "test-result test-fail")
        test_elem.text = "‚úó Test 3.1: ERROR - " + str(e)
    </script>

    <script type="text/python">
# Test 7: Functions
try:
    def add(a, b):
        return a + b
    
    result = add(3, 4)
    test_elem = document.find("#test7")
    if test_elem:
        if result == 7:
            test_elem.set_attribute("class", "test-result test-pass")
            test_elem.text = "‚úì Test 4.1: Function definition & call - PASSED! add(3, 4) = " + str(result)
        else:
            test_elem.set_attribute("class", "test-result test-fail")
            test_elem.text = "‚úó Test 4.1: Function call - FAILED! Expected 7, got " + str(result)
except Exception as e:
    test_elem = document.find("#test7")
    if test_elem:
        test_elem.set_attribute("class", "test-result test-fail")
        test_elem.text = "‚úó Test 4.1: ERROR - " + str(e)
    </script>

    <script type="text/python">
# Test 8: String Operations
try:
    text = "Ladybird"
    test_elem = document.find("#test8")
    if test_elem:
        if len(text) == 8:
            test_elem.set_attribute("class", "test-result test-pass")
            test_elem.text = "‚úì Test 5.1: String operations - PASSED! Length = " + str(len(text))
        else:
            test_elem.set_attribute("class", "test-result test-fail")
            test_elem.text = "‚úó Test 5.1: String operations - FAILED! Expected length 8, got " + str(len(text))
except Exception as e:
    test_elem = document.find("#test8")
    if test_elem:
        test_elem.set_attribute("class", "test-result test-fail")
        test_elem.text = "‚úó Test 5.1: ERROR - " + str(e)
    </script>

    <!-- JavaScript to update summary -->
    <script>
        function updateSummary() {
            const testElements = document.querySelectorAll('[id^="test"]');
            let testCount = 0;
            let passed = 0;
            let failed = 0;
            
            testElements.forEach(elem => {
                if (elem.classList.contains('test-pass') || elem.classList.contains('test-fail')) {
                    testCount++;
                    if (elem.classList.contains('test-pass')) {
                        passed++;
                    } else if (elem.classList.contains('test-fail')) {
                        failed++;
                    }
                }
            });
            
            const summaryStats = document.getElementById('summary-stats');
            const summary = document.getElementById('summary');
            
            if (testCount > 0) {
                const passRate = Math.round((passed / testCount) * 100);
                summaryStats.innerHTML = `
                    <div>Total: ${testCount} tests</div>
                    <div style="color: #4ade80;">Passed: ${passed}</div>
                    <div style="color: ${failed > 0 ? '#f87171' : '#4ade80'};">Failed: ${failed}</div>
                    <div style="font-size: 1.2em; margin-top: 10px;">Success Rate: ${passRate}%</div>
                `;
                
                // Update summary background
                if (failed === 0) {
                    summary.style.background = 'linear-gradient(135deg, #10b981 0%, #059669 100%)';
                } else if (passed > failed) {
                    summary.style.background = 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)';
                } else {
                    summary.style.background = 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)';
                }
            }
        }
        
        // Update summary periodically
        window.addEventListener('load', function() {
            setTimeout(updateSummary, 1000);
            setInterval(updateSummary, 2000);
        });
    </script>

    <div style="text-align: center; margin: 30px 0; padding: 20px; background: rgba(0,0,0,0.05); border-radius: 8px;">
        <h3 style="color: #1a73e8;">üîó Navigation</h3>
        <p style="margin: 15px 0;">
            <a href="index.html" style="color: #1a73e8; text-decoration: none; margin: 0 10px;">‚Üê Back to Test Index</a> |
            <a href="python_dom_test.html" style="color: #1a73e8; text-decoration: none; margin: 0 10px;">DOM Test ‚Üí</a> |
            <a href="python_advanced_test.html" style="color: #1a73e8; text-decoration: none; margin: 0 10px;">Advanced Test ‚Üí</a>
        </p>
    </div>

</body>
</html>
