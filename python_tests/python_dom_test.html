<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python DOM Integration Test - Ladybird</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f9fa;
        }
        
        .test-section {
            background: white;
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .python-created {
            background: #e8f5e8;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            border-left: 4px solid #34a853;
        }
        
        h1 { color: #1a73e8; text-align: center; }
        h2 { color: #34a853; }
        
        #python-output {
            background: #fff3cd;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
            min-height: 50px;
        }
    </style>
</head>
<body>
    <h1>üêç Python DOM Integration Test</h1>
    <p>This page tests Python's ability to interact with the DOM using your current integration.</p>

    <div class="test-section">
        <h2>Test 1: Basic DOM Access</h2>
        <div id="python-output">
            <p>This content will be modified by Python...</p>
        </div>
    </div>

    <div class="test-section">
        <h2>Test 2: Window and Document Objects</h2>
        <div id="window-info">
            <p>Window information will be populated by Python...</p>
        </div>
    </div>

    <div class="test-section">
        <h2>Test 3: Python-Created Content</h2>
        <div id="dynamic-content">
            <!-- Python will add content here -->
        </div>
    </div>

    <!-- Python Scripts Testing DOM Integration -->
    <script type="python">
# Test 1: Check if window and document are available
print("üåê Test 1: Checking Window and Document Objects")
print("=" * 45)

try:
    # Test if window object exists
    if 'window' in globals():
        print("‚úì window object is available")
        print(f"  window type: {type(window)}")
    else:
        print("‚úó window object not found")
    
    # Test if document object exists  
    if 'document' in globals():
        print("‚úì document object is available")
        print(f"  document type: {type(document)}")
        
        # Try to access document properties
        try:
            title = document.title
            print(f"  document.title: {title}")
        except Exception as e:
            print(f"  document.title error: {e}")
    else:
        print("‚úó document object not found")
        
except Exception as e:
    print(f"‚úó Error accessing window/document: {e}")

print()
    </script>

    <script type="python">
# Test 2: Try DOM manipulation if available
print("üîß Test 2: DOM Manipulation Test")
print("=" * 35)

try:
    # Try to find an element by ID
    output_div = None
    
    # Check if we have DOM access
    if 'document' in globals():
        print("‚úì Attempting DOM element access...")
        
        # This depends on your actual Python DOM binding implementation
        # Adjust based on your actual API
        try:
            # Try different possible DOM access patterns
            if hasattr(document, 'getElementById'):
                output_div = document.getElementById('python-output')
                print("‚úì document.getElementById() works")
            elif hasattr(document, 'find'):
                output_div = document.find('#python-output')
                print("‚úì document.find() works")
            else:
                print("‚ÑπÔ∏è  DOM query methods not yet implemented")
                
        except Exception as e:
            print(f"‚ÑπÔ∏è  DOM query error: {e}")
        
        if output_div:
            print(f"‚úì Found element: {type(output_div)}")
            
            # Try to modify element content
            try:
                if hasattr(output_div, 'innerHTML'):
                    output_div.innerHTML = "<p><strong>‚úÖ Modified by Python!</strong></p>"
                    print("‚úì innerHTML modification works")
                elif hasattr(output_div, 'textContent'):
                    output_div.textContent = "‚úÖ Modified by Python!"
                    print("‚úì textContent modification works")
                else:
                    print("‚ÑπÔ∏è  Element content modification methods not yet implemented")
            except Exception as e:
                print(f"‚ÑπÔ∏è  Element modification error: {e}")
        else:
            print("‚ÑπÔ∏è  Element not found or DOM API not ready")
    else:
        print("‚ÑπÔ∏è  Document object not available")
        
except Exception as e:
    print(f"‚úó DOM manipulation error: {e}")

print()
    </script>

    <script type="python">
# Test 3: Test available Python globals
print("üìã Test 3: Available Python Environment")
print("=" * 40)

print("Available global objects:")
python_globals = list(globals().keys())
important_globals = ['window', 'document', '__name__', '__file__']

for name in important_globals:
    if name in python_globals:
        print(f"‚úì {name}: {type(globals()[name])}")
    else:
        print(f"‚úó {name}: not available")

# Show some built-in Python functionality
print("\nPython built-ins working:")
print(f"‚úì len([1,2,3]) = {len([1,2,3])}")
print(f"‚úì sum([1,2,3]) = {sum([1,2,3])}")
print(f"‚úì 'hello'.upper() = {'hello'.upper()}")

print()
    </script>

    <script type="python">
# Test 4: Integration Status Report
print("üìä Python-Ladybird Integration Status Report")
print("=" * 50)

# Check what's working
working_features = []
todo_features = []

# Basic Python
working_features.append("‚úì Python execution")
working_features.append("‚úì Print to console") 
working_features.append("‚úì Python data types")
working_features.append("‚úì Control flow")

# DOM integration status
if 'window' in globals():
    working_features.append("‚úì Window object access")
else:
    todo_features.append("‚è≥ Window object binding")
    
if 'document' in globals():
    working_features.append("‚úì Document object access")
else:
    todo_features.append("‚è≥ Document object binding")

print("WORKING FEATURES:")
for feature in working_features:
    print(f"  {feature}")

if todo_features:
    print("\nFEATURES IN DEVELOPMENT:")
    for feature in todo_features:
        print(f"  {feature}")

print("\n" + "=" * 50)
print("üéâ Python is successfully integrated into Ladybird!")
print("DOM bindings are available for further development.")
    </script>

    <div class="test-section">
        <h2>üîç How to Check Results</h2>
        <div class="python-created">
            <p><strong>To see Python test results:</strong></p>
            <ol>
                <li>Open Browser Developer Console (F12)</li>
                <li>Look for Python print() statements</li>
                <li>Check for ‚úì (success) or ‚úó (error) indicators</li>
                <li>DOM modifications may appear on this page</li>
            </ol>
        </div>
    </div>

    <div style="text-align: center; margin: 30px 0; padding: 20px; background: rgba(0,0,0,0.1); border-radius: 8px;">
        <h2 style="color: #34a853;">üîó Navigation</h2>
        <p style="margin: 15px 0;">
            <a href="index.html" style="color: #34a853; text-decoration: none; margin: 0 10px;">‚Üê Back to Test Index</a> |
            <a href="python_basic_test.html" style="color: #34a853; text-decoration: none; margin: 0 10px;">‚Üê Basic Test</a> |
            <a href="python_advanced_test.html" style="color: #34a853; text-decoration: none; margin: 0 10px;">Advanced Test ‚Üí</a>
        </p>
        <p style="font-size: 0.9em; color: #666; margin: 10px 0;">
            üöÄ <strong>Next:</strong> Try the Advanced Features Test for comprehensive Python validation
        </p>
    </div>

</body>
</html>
